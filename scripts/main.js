const DATA = [
  {
    id: 1,
    title: "Закони. Правові документи.",
    plot: [
      {
        plotId: 1,
        externalLink: false,
        url: "",
        plotTitle: "Закон про службу військового капеланства",
        plotBody:
          "Розділ I. ЗАГАЛЬНІ ПОЛОЖЕННЯ. Стаття 1. Визначення термінів 1. У цьому Законі наведені нижче терміни вживаються в такому значенні: 1) військова капеланська діяльність - діяльність, яку здійснюють військові капелани з метою сприяння реалізації конституційного права військовослужбовців, працівників та членів їх сімей на свободу світогляду та віросповідання шляхом задоволення їх духовно-релі",
      },
      {
        plotId: 2,
        externalLink: false,
        url: "",
        plotTitle: "Наказ 50 Національної Гвардії України",
        plotBody:
          "1. Служба військового капеланства призначена для організації заходів щодо задоволення духовно-релігійних потреб військовослужбовців та працівників Збройних Сил України, Національної гвардії України, інших утворених відповідно до законів України військових формувань, Державної прикордонної служби України і членів їх сімей. 2. Служба військового капеланства утворюється як окрема структура у складі Збройних Сил України, Національної гвардії України, інших утворених відповідно до законів України військових формувань, Державної прикордонної служби України, вид якої залежить від обсягу, характеру та складності заходів щодо задоволення духовно-релігійних потреб в їх органі військового управління, з’єднанні, військовій частині, військовому навчальному закладі, установі чи організації (далі - військова частина). У військовій частині на рівні окремого батальйону функції Служби військового капеланства можуть виконуватися одним військовим капеланом. 3. Відповідні служби військового капеланства підпорядковуються безпосередньо Головнокомандувачу Збройних Сил України, Командувачу Національної гвардії України, керівникам інших утворених відповідно до законів України військових формувань, Голові Державної прикордонної служби України.",
      },
      {
        plotId: 3,
        externalLink: false,
        url: "",
        plotTitle: "Інше",
        plotBody:
          "3 Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
      },
      {
        plotId: 4,
        externalLink: false,
        url: "",
        plotTitle: "Інше",
        plotBody:
          "4 Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
      },
    ],
  },
  {
    id: 2,
    title: "Календарі (посилання)",
    plot: [
      {
        plotId: 1,
        externalLink: true,
        url: "https://www.pomisna.info/uk/tserkva/kalendar/",
        plotTitle: "Православний церковний календар",
        plotBody: "",
      },
      {
        plotId: 2,
        externalLink: true,
        url: "https://www.saintjosaphat.org/kalendar?tx_greekcatholiccalendar_monthview%5Baction%5D=monthView&tx_greekcatholiccalendar_monthview%5Bcontroller%5D=Days&tx_greekcatholiccalendar_monthview%5Bmonth%5D=12&cHash=a815ff4da504617c4812c244610a3320",
        plotTitle: "Греко-католицький церковний календар",
        plotBody: "",
      },
      {
        plotId: 3,
        externalLink: true,
        url: "https://rkc.org.ua/duhovnist/liturgijnyj-kalendar/",
        plotTitle: "Римо-католицький церковний календар",
        plotBody: "",
      },
      {
        plotId: 4,
        externalLink: true,
        url: "https://uk.wikipedia.org/wiki/%D0%84%D0%B2%D1%80%D0%B5%D0%B9%D1%81%D1%8C%D0%BA%D0%B8%D0%B9_%D0%BA%D0%B0%D0%BB%D0%B5%D0%BD%D0%B4%D0%B0%D1%80#:~:text=%D0%84%D0%B2%D1%80%D0%B5%CC%81%D0%B9%D1%81%D1%8C%D0%BA%D0%B8%D0%B9%20%D0%BA%D0%B0%D0%BB%D0%B5%D0%BD%D0%B4%D0%B0%CC%81%D1%80%20%E2%80%94%20%D1%82%D1%80%D0%B0%D0%B4%D0%B8%D1%86%D1%96%D0%B9%D0%BD%D0%B8%D0%B9%20%D0%BA%D0%B0%D0%BB%D0%B5%D0%BD%D0%B4%D0%B0%D1%80%20%D1%94%D0%B2%D1%80%D0%B5%D1%97%D0%B2,%D0%BF%D0%BE%D0%B2%D0%BD%D0%BE%D0%B3%D0%BE%20%D0%BE%D0%B1%D0%B5%D1%80%D1%82%D0%B0%D0%BD%D0%BD%D1%8F%20%D0%97%D0%B5%D0%BC%D0%BB%D1%96%20%D0%BD%D0%B0%D0%B2%D0%BA%D0%BE%D0%BB%D0%BE%20%D1%81%D0%BE%D0%BD%D1%86%D1%8F.",
        plotTitle: "Іудейські свята",
        plotBody: "",
      },
      {
        plotId: 5,
        externalLink: true,
        url: "https://umma.in.ua/ua/node/1904",
        plotTitle: "Мусульманські свята",
        plotBody: "",
      },
    ],
  },
  {
    id: 3,
    title: "Лекції (теми для розмов з військовими)",
    plot: [
      {
        plotId: 1,
        externalLink: false,
        url: "",
        plotTitle: "Релігія і духовність особистості військовослужбовця",
        plotBody:
          "1 Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
      },
      {
        plotId: 2,
        externalLink: false,
        url: "",
        plotTitle: "Капеланство - історія і завдання",
        plotBody:
          "2 Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
      },
      {
        plotId: 3,
        externalLink: false,
        url: "",
        plotTitle: "Вчення Православної Церкви про війну",
        plotBody:
          "3 Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
      },
      {
        plotId: 4,
        externalLink: false,
        url: "",
        plotTitle: "Що таке конфлікт і як його уникнути",
        plotBody:
          "4 Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
      },
      {
        plotId: 5,
        externalLink: false,
        url: "",
        plotTitle: "Християнське розуміння почуттів і емоцій людини",
        plotBody:
          "5 Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
      },
      {
        plotId: 6,
        externalLink: false,
        url: "",
        plotTitle: "Піст і молитва як загальний прояв віри",
        plotBody:
          "6 Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
      },
      {
        plotId: 7,
        externalLink: false,
        url: "",
        plotTitle: "Не судіть, щоб і вас не судили",
        plotBody:
          "7 Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
      },
      {
        plotId: 8,
        externalLink: false,
        url: "",
        plotTitle: "Молитва в житті воїна",
        plotBody:
          "8 Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
      },
    ],
  },
  {
    id: 4,
    title: "Короткий молитволов капелана. Требник",
    plot: [
      {
        plotId: 1,
        externalLink: false,
        url: "",
        plotTitle: "Обідниця",
        plotBody:
          "1 Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
      },
      {
        plotId: 2,
        externalLink: false,
        url: "",
        plotTitle: "Молитва за Україну",
        plotBody:
          "2 Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
      },
      {
        plotId: 3,
        externalLink: false,
        url: "",
        plotTitle: "Молитва за воїнів",
        plotBody:
          "3 Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
      },
      {
        plotId: 4,
        externalLink: false,
        url: "",
        plotTitle: "Молитва за поранений",
        plotBody:
          "4 Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
      },
      {
        plotId: 5,
        externalLink: false,
        url: "",
        plotTitle: "Молитва за поневолений",
        plotBody:
          "5 Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
      },
      {
        plotId: 6,
        externalLink: false,
        url: "",
        plotTitle: "Молитва для освячення зброї",
        plotBody:
          "6 Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
      },
      {
        plotId: 7,
        externalLink: false,
        url: "",
        plotTitle: "Молитва для освячення прапора",
        plotBody:
          "7 Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
      },
      {
        plotId: 8,
        externalLink: false,
        url: "",
        plotTitle: "Освячення води",
        plotBody:
          "8 Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
      },
      {
        plotId: 9,
        externalLink: false,
        url: "",
        plotTitle: "Чин освячення усякої речі",
        plotBody:
          "8 Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
      },
    ],
  },
  {
    id: 5,
    title: "форми документів для друку",
    plot: [
      {
        plotId: 1,
        externalLink: false,
        url: "",
        plotTitle: "Приклад написання рапорту для переведення на посаду",
        plotBody: "",
        print: true,
        file: "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",
      },
      {
        plotId: 2,
        externalLink: false,
        url: "",
        plotTitle: "Рапорт для відрядження",
        plotBody: "",
        print: true,
        file: "https://www.rd.usda.gov/sites/default/files/pdf-sample_0.pdf",
      },
    ],
  },
];

console.log(DATA);

document.addEventListener("DOMContentLoaded", () => {
  // Create top level app title (by category)
  const app_template = (title, id) =>
    `<h3 data-cardid=${id} class="app-inner">${title}</h3>`;
  const list_template = (title, id) =>
    `<h4 data-categoryTitleId=${id} class="category-title">${title}</h4>`;

  const app = document.querySelector(".app");

  const createTopList = () => {
    const topList = DATA.map((el) => {
      return app_template(el.title, el.id);
    });

    return topList;
  };

  const list = createTopList();
  app.innerHTML = list.join(" ");

  // Show list by category
  const cards = document.querySelectorAll(".app-inner");

  const createCategories = function () {
    Array.from(cards).forEach((el) =>
      el.addEventListener("click", function (e) {
        const cardId = e.target.dataset.cardid;
        console.log("cardId", cardId);
        app.classList.add("hide-title");

        const category = DATA.find(({ id }) => id == cardId);
        const categoryList = createCategoryListTitle(category);
        showCreatedListTitle(categoryList);

        console.log("categoryList", categoryList);
      })
    );
  };

  createCategories();

  const createCategoryListTitle = (category) => {
    const title = category.title;
    const list = category.plot.map((el) => {
      if (el.externalLink && el.url) {
        return `<a data-titleId=${el.plotId} class="list-title list-titlelink" target="_blank" href=${el.url}>${el.plotTitle}</a>`;
      }

      return `<h4 data-titleId=${el.plotId} class="list-title list-title-withbody">${el.plotTitle}</h4>`;
    });

    return { title, list: list.join(" ") };
  };

  const showCreatedListTitle = ({ title, list }) => {
    const listTitle = `<div class="category">
    <p class="arrow-back">
    <span class="arrow">&#8592; </span>
    <span class="arrow-text">Назад до змісту</span>
    </p>
    <h3 class="category-title">${title}</h3>
    ${list}
    </div>`;

    console.log("listTitle", listTitle);

    app.innerHTML = "";
    app.innerHTML = listTitle;

    const arrowBack = document.querySelector(".arrow-back");
    arrowBack.addEventListener("click", () => {
      console.log(100);
      const list = createTopList();
      const app = document.querySelector(".app");
      app.classList.remove("hide-title");
      app.innerHTML = list.join(" ");
      createCategories();
    });
  };
});
